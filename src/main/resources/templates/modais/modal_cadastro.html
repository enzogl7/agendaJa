<div class="modal fade" id="modalCadastroEtapas" tabindex="-1" aria-labelledby="modalCadastroLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content p-4">
      <div class="modal-header">
        <h5 class="modal-title" id="modalCadastroLabel">Cadastro - Etapa <span id="etapaAtual">1</span> de 4</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
          <div class="etapa" id="etapa-1">
            <div class="mb-3">
              <label class="form-label">Tipo de usu√°rio</label>
              <div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="tipoUsuario" id="cliente" value="CLIENTE" checked>
                  <label class="form-check-label" for="cliente">Cliente</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="tipoUsuario" id="prestador" value="PRESTADOR">
                  <label class="form-check-label" for="prestador">Prestador de Servi√ßo</label>
                </div>
              </div>
            </div>
            <div class="mb-3">
              <label for="nome" class="form-label">Nome completo</label>
              <input type="text" class="form-control" id="nome" required>
            </div>
            <div class="mb-3" id="campoCpf">
              <label for="cpf" class="form-label">CPF</label>
              <input type="text" class="form-control" placeholder="123.456.789-10" id="cpf" maxlength="14" required>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">E-mail</label>
              <input type="email" class="form-control" id="email" required>
            </div>
            <div class="mb-3" id="campoDataNascimento">
              <label for="dataNascimento" class="form-label">Data de nascimento</label>
              <input type="date" class="form-control" id="dataNascimento" required>
            </div>
            <div class="mb-3">
              <label for="senha" class="form-label">Senha</label>
              <input type="password" class="form-control" id="senha" required oninput="validarSenha()">
            </div>

            <ul id="requisitosSenha" class="list-unstyled mb-3">
              <li id="req-maiuscula" class="text-muted text-sm"><i class="bi bi-x"></i> Ao menos 1 letra mai√∫scula</li>
              <li id="req-numero" class="text-muted text-sm"><i class="bi bi-x"></i> Ao menos 1 n√∫mero</li>
              <li id="req-especial" class="text-muted text-sm"><i class="bi bi-x"></i> Ao menos 1 caractere especial</li>
              <li id="req-minimo" class="text-muted text-sm"><i class="bi bi-x"></i> Pelo menos 8 caracteres</li>
            </ul>

            <div class="mb-3">
              <div class="mb-3 mt-3">
                <label class="form-label">Termos e condi√ß√µes gerais e pol√≠ticas de privacidade</label>
                <div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="sim" id="termosEPrivacidadeCheck">
                    <label class="form-check-label" for="termosEPrivacidadeCheck">Aceito os <a class="cursor-pointer" onclick="modalTermos()">termos e condi√ß√µes gerais de venda e uso</a> e as <a class="cursor-pointer" onclick="modalPrivacidade()">pol√≠ticas de privacidade</a></label>
                  </div>
                </div>
              </div>
             </div>
          </div>

          <div class="etapa d-none" id="etapa-2">
            <h6>Escolha seu plano:</h6>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="plano" id="planoBasico" value="BASICO" checked>
              <label class="form-check-label" for="planoBasico">Plano B√°sico - Gratuito</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="plano" id="planoPro" value="PROFISSIONAL">
              <label class="form-check-label" for="planoPro">Plano Profissional - R$ 29,90/m√™s</label>
            </div>
          </div>

          <div class="etapa d-none" id="etapa-3">
            <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 200px;">
              <h5 class="text-center mb-4">Clique abaixo para finalizar o pagamento da sua assinatura</h5>
              <button id="btnStripeCheckout"
                      onclick="pagarStripe()"
                      class="bg-gradient-to-r from-green-500 to-green-700 text-white font-semibold text-lg btn-lg px-5 py-3 rounded-pill hover:from-green-600 hover:to-green-800 active:translate-y-0.5 active:shadow-md transition transform duration-300 focus:outline-none focus:ring-4 focus:ring-green-300 flex items-center justify-center gap-2">
                <span id="btnStripeText">Ir para Stripe</span>
                <svg id="btnStripeSpinner" class="animate-spin h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
                </svg>
              </button>
              <p class="text-gray-600 mt-4 text-sm italic text-center">
                *Voc√™ ser√° redirecionado para a Stripe, onde seu pagamento ser√° processado de forma totalmente segura e gerenciada pela Stripe. O AgendaJ√° n√£o ter√° acesso √†s suas informa√ß√µes.
              </p>
            </div>
          </div>

          <div class="etapa d-none text-center" id="etapa-4">
            <h5>Cadastro conclu√≠do com sucesso! üéâ</h5>
            <p>Bem-vindo(a) ao AgendaJ√°. Voc√™ ser√° redirecionado em instantes...</p>
          </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="btn-voltar" onclick="voltarEtapa()" disabled>Voltar</button>
        <button type="button" class="btn" id="btn-avancar" onclick="avancarEtapa()" style="background-color: #27AE60; color: white">Avan√ßar</button>
      </div>
    </div>
  </div>
</div>